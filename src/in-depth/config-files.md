# Използване на конфигурационни файлове

Работата с конфигурации може да бъде досадна
особено ако поддържате няколко операционни системи
които всички имат свои собствени места
за краткосрочни и дългосрочни файлове.

Има множество решения за този проблем,
някои дето са на по-ниско ниво от други.

Най-лесния начин е да използвате библеотеката [`confy`].
Той ви пита за името на вашето приложение
и изисква да посочите оформлението на конфигурацията
чрез `struct` (което наследява `Serialize`, `Deserialize`)
и то ще разбере останалото!

```rust,ignore
#[derive(Debug, Serialize, Deserialize)]
struct MyConfig {
    name: String,
    comfy: bool,
    foo: i64,
}

fn main() -> Result<(), io::Error> {
    let cfg: MyConfig = confy::load("my_app")?;
    println!("{:#?}", cfg);
    Ok(())
}
```

Това е невероятно лесно за използване
за което, разбира се, се отказвате от възможностите за конфигуриране.
Но ако простата конфигурация е всичко, което искате,
тази библиотека може да е за вас!

[`confy`]: https://docs.rs/confy/0.3.1/confy/

## Конфигурационни среди

<aside class="todo">

**Задачи**

1. Оценете библиотеките, които съществуват
2. Аргументи от конзолата + множество конфигурации + `env` променливи
3. Може ли [`configure`] да направи всичко това? Има ли нещо хубаво, за да го обвием?

</aside>

[`configure`]: https://docs.rs/configure/0.1.1/configure/
